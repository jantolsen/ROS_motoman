<launch>

	<arg name="robot_ip" default="192.168.31.30" />
    <arg name="J23_coupled" default="false"/>

	<arg name="use_bswap" default="false" doc="If true, robot driver will byte-swap all incoming and outgoing data" />
	<arg name="version0" default="false" doc="If true, driver assumes an older version of client without multi-group support" />
    
     <!-- The name of the parameter under which the URDF is loaded -->
    <arg name="robot_description" default="robot_description"/>    
    <arg name="robot_1" default="motoman_gp400" />

     <!-- Robot Definition Arguments -->
    <arg name="end_effector" default="gripspin" />
    <param name="end_effector" value="$(arg end_effector)"/>

    <arg name="robot_1_namespace" default="robot_1"/>

        <!-- Load universal robot description format (URDF) -->
        <param name="$(arg robot_description)" command="xacro --inorder  '$(find generic_hunsfos)/config/gp400/gp400_scene_urdf.xacro' end_effector:=$(arg end_effector)"/>

        <!-- The semantic description that corresponds to the URDF -->
        <param name="$(arg robot_description)_semantic" textfile="$(find generic_hunsfos)/config/gp400/gp400_scene_srdf.srdf"/>

        <!-- Loads rig-specific settings into parameter server from rig_settings.yaml -->
        <rosparam command="load" file="$(find generic_hunsfos)/config/gp400/rig_settings.yaml" />

        <!-- Loads global settings into parameter server from settings.yaml -->
        <rosparam command="load" file="$(find generic_hunsfos)/config/settings.yaml"/>


    <!-- Robot #1 Nodes - GP400 -->
    <group ns="$(arg robot_1_namespace)">

            <remap from="gp400/gp400_r1_controller/joint_states" to="controller_joint_states"/>
            <remap from="gp400/gp400_r1_controller/joint_info" to="controller_joint_info"/>
            <remap from="gp400/gp400_r1_controller/feedback_states" to="feedback_states"/>

            <!-- <remap from="joint_states" to="controller_joint_states"/>
            <remap from="joint_info" to="controller_joint_info"/> -->
            
            <include file="$(find motoman_driver)/launch/robot_interface_streaming.launch">
                <arg name="robot_ip"   value="$(arg robot_ip)" />
                <arg name="use_bswap"  value="$(arg use_bswap)" />
                <arg name="version0"  value="$(arg version0)" />
                <arg name="J23_coupled"  value="$(arg J23_coupled)" />
            </include>

            <!-- <include file="$(find nov_support)/launch/controller_driver_routers/$(arg robot_1).launch">
               <arg name="robot_ip"    value="$(arg robot_ip)" />
               <arg name="J23_coupled" value="$(arg J23_coupled)" />
            </include> -->

            <!-- <node name="planner_action_publisher" pkg="planner" type="planner_action_publisher" output="screen"/> -->

    </group>

</launch>
